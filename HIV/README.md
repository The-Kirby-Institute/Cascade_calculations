## Australian HIV Cascade Calculations ##

This directory contains all the code and materials used for estimating each step of the Australian HIV diagnosis and care cascade. Annual estimates are reported annually in the HIV, viral hepatitis and sexually transmissible infections in the Australia Annual Surveillance Report (ASR). The HIV cascade is treated as a separate sub-project within the overall Australian cascades project. 

### Aims ###

The aim of the HIV cascade calculations is to estimate the total number of people living with HIV, the total number of people living with diagnosed HIV, the number of people retained in care, the number of people on antiretrovial treatment (ART), and the number of people on treatment with suppressed viral load for each calendar year. The purpose of the cascade is highlight any potential gaps in care and treatment at a cross-sectional population level and to achieve the maximal level of viral suppression. HIV cascades can be estimated for specific populations based on region, sex, demographics, ethnicity, age, and risk of HIV exposure. 

### Project organization ###

All the files related to the HIV cascade estimates and calculations are stored in this directory and 6 sub-directories. Some of these materials are stored locally and are not available from the online repository. 

_Main directory scipts_

The following R markdown scripts are the main scripts used for the Australian HIV cascade and related calculations. Further details are available as comments in the scripts. The files are numbered from 0 to specify the order they need to be run to produce all the HIV cascade results. Scripts starting with the same number can be run independently of each other. 

- **0-ArtAnalysis.Rmd**: This script was used to explore the number of people taking ART in Australia over 2000-2014. Its primary purpose was to estimate the number taking ART during the year merging data from the Australian HIV Observational Database (AHOD) for 2000-2012 and a 10% longitudinal sample of Pharmaceutical Benefits Scheme (PBS) data provided by the company Prospection for 2013-2014. This was used once off as the PBS data since 2014 is considered to be the most accurate so the script was only used for the crossover. 
	- The resulting estimates are saved as: `data/ART_Estimates-2014.csv`: This file needs to be generated for the main cascade calculations script to run.
- **1-HivCascades.Rmd**: This script describes and contains the code for producing the HIV care 
cascade estimates for Australia. It is the primary script for the HIV cascade estimates. The user needs to specify the final year for the estimates and other calculation options in the _initialization_ chunk at the start of the script. The script sources numerous functions from the main Cascade_calculations `~/code/` directory (described in the parent directory). For a given year (YEAR) the script loads input data files from the `data/` directory and cleaned population size data from the Australian Bureau of Statistics (ABS) which are available on request. Numerous output files are generated as `.rda` and `.csv` files in the `output/` directory (described below). The final HIV cascade estimates are saved as `output/HIVcascadeEstimates-YEAR`. 
- **2-HivCascadeImpact.Rmd**: This draft script contains initial exploratory code for analyzing the impact of ART on HIV incidence in Australia over 2005-2014. It is currently not finished and the associated analysis has not been completed. 
- **2-HivCascadePlots.Rmd**: This script loads the result files generated by the `1-HivCascades.Rmd` script for a specified year and produces all the figures for the HIV cascade and associated results. These are stored in the `output/figures` directory. The user needs to specify the final year for the estimates and other calculation options in the _setup_ chunk at the start of the script. When run using `knitr` this scripts produces a summary document presenting the results with all the methods and data sources (with references) used for the calculations. The resulting Word document is stored in the `docs` directory. Additional files required to produce the Word document are only available locally but all the all the final results and figures can be generated using the files in the repository. 
- **hivaging.Rmd**: This script contains separate calculations of the number of people living with diagnosed HIV by 5-year age bins. It requires the `1-HivCascades.Rmd` script to be run first to produce overall cascade results. Figures produced are saved in the `output/figures` directory. When run using `knitr` this scripts produces a summary document presenting the results with all the methods and data sources (with references) used for the calculations. The resulting Word document is stored in the `docs` directory. Additional files required to produce the Word document are only available locally but all the all the final figures can be generated using the files in the repository.

#### data ####

Contains the cleaned input data sets for HIV cascade calculations. A detailed README file within the directory describes each of the data files in detail. The data files for the year 2015 are 
contained in the repository with other files only stored locally (these are available on request). A detailed README file within the directory describes the data files in detail.

#### docs (local) ####

Contains manuscript, report, and presentation files based on the HIV cascade results and related documents. The R markdown generated documents produced by `1-HivCascades.Rmd` and `hivaging.Rmd` are saved in this directory along with the associated styles and bibtex files to produce these documents. These files are stored locally and are not available in the online repository. 

#### misc (local) ####

Contains miscellaneous files such references, correspondence, general information, examples, working documents, and general kibble  of relevance to the HIV cascade. These files are stored locally and are not available in the online repository. 

#### output ####

Contains output files storing the results produced by the main directory scripts. The results are stored in  a number of `.csv` and `.rda` files for each specified year with associated figures saved in the `/figure/` directory. The repository currently only holds the `.csv` files for the 2015 HIV cascade which were published in the Australian HIV Cascade manuscript.

#### subprojects (local) ####

Contains additional projects associated with the main HIV cascade such as cascade calculations for specific jurisdictions or sub-populations. These subprojects are stored locally and are not available in the online repository. 








 

